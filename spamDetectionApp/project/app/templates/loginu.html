{% extends 'indexu.html' %}
{% block contents %}
{%load static %}

<section class="login" id="login">
    <form method="post" id="login-form">
        <h2 class="heading"> <span>Login</span></h2>
        {% csrf_token %}
        <div class="img">
            <img src="{% static 'assets/img/spam.jpg' %}" alt="">
        </div>
        <div class="form-group">
            <label for="username">Username :</label>
            <input required type="text" name="username" id="username">
        </div>
        <div class="form-group">
            <label for="password">Password :</label>
            <div class="password-i">
                <input required type="password" name="password" id="password">
                <i id="eyeicon" class='fa fa-eye'></i>
            </div>

        </div>
        </div>
        <div class="form-group">
            <button type="submit" class="btn">Login</button>
        </div>
        {% if error %}
        <div class="alert">{{error}}</div>
        {% endif %}
    </form>
</section>

<script>
    let eyeicon = document.querySelector("#eyeicon");
    let password = document.querySelector("#password");
    eyeicon.addEventListener("click", () => {
        if (password.type === "password") {
            password.type = "text";
            eyeicon.classList.remove("fa-eye");
            eyeicon.classList.add("fa-eye-slash");
        } else {
            password.type = "password";
            eyeicon.classList.remove("fa-eye-slash");
            eyeicon.classList.add("fa-eye");
        }
    });

    var form = document.getElementById('login-form');
    form.addEventListener('submit', function (event) {
        event.preventDefault();
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
        if (username && password) {
            form.submit();
        } else {
            alert('Please enter your username and password.');
        }
    });

    let menuicon = document.querySelector("#menu-icon");

    menuicon.classList.add("hidemenuicon");
</script>
{% endblock %}
